<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>명언 남기기</title>
	<script>
	    window.onload = function () {
	        var button = document.getElementById("previewButton");
	        button.onclick = draw;
	    }

	    function draw() {
	        var canvas = document.getElementById("draw");
	        var context = canvas.getContext("2d");

	        fillBackgroundColor(canvas, context);
	        var selectObj = document.getElementById("shape");
	        var index = selectObj.selectedIndex;
	        var shape = selectObj[index].value;

	        if (shape == "squares")
	            for (var squares = 0; squares < 20; squares++)
	                drawSquare(canvas, context);

	        else if (shape == "circles")
	            for (var circles = 0; circles < 20; circles++)
	                drawCircle(canvas, context);

	        drawText(canvas, context);
	    }


	    function drawSquare(canvas, context) {
	        var w = Math.floor(Math.random() * 40);
	        var x = Math.floor(Math.random() * canvas.width);
	        var y = Math.floor(Math.random() * canvas.height);
	        context.fillStyle = "lightblue";
	        context.fillRect(x, y, w, w);
	    }

	    function fillBackgroundColor(canvas, context) {
	        var selectObj = document.getElementById("backgroundColor");
	        var index = selectObj.selectedIndex;
	        var bgColor = selectObj.options[index].value;
	        context.fillStyle = bgColor;
	        context.fillRect(0, 0, 600, 200);
	    }

	    function drawText(canvas, context) {
	        var selectObj = document.getElementById("foregroundColor");
	        var index = selectObj.selectedIndex;
	        var fgColor = selectObj.options[index].value;
	        context.fillStyle = fgColor;
	        selectObj = document.getElementById("sentence");
	        var sen = selectObj.value;
	        context.font = "italic 1.2em serif";
	        context.fillText(sen, 30, 100);
	    }

	    function drawCircle(canvas, context) {
	        var radius = Math.floor(Math.random() * 40);
	        var x = Math.floor(Math.random() * canvas.width);
	        var y = Math.floor(Math.random() * canvas.height);
	        context.beginPath();
	        context.arc(x, y, radius, 0, (360*Math.PI)/180, true);
	        context.fillStyle = "lightblue";
	        context.fill();
	    }

	</script>

</head>
<body>
	<canvas id="draw" width="600" height="200"></canvas>
	<form>
	<p>
	<label for="backgroundColor">Select background color:</label>
	<select id="backgroundColor">
		<option value="white" selected="selected">White</option>
		<option value="black">Black</option>
	</select>
	</p>
	<p>
	<label for="shape">Circles or squares?</label>
	<select id="shape">
		<option value="circles" selected="selected">Circles</option>
		<option value="squares">Squares</option>
	</select>
	</p>
	<p>
	<label for="foregroundColor">Select text color:</label>
		<select id="foregroundColor">
		<option value="black" selected="selected">Black</option>
		<option value="white">White</option>
	</select>
	</p>
	<p>
		<label for="foregroundColor">Write Text:</label>
		<input type="text" id="sentence" size="40">
	</p>
	<p>
		<input type="button" id="previewButton" value="Preview">
	</p>
	</form>
</body>
</html>